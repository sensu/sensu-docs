---
title: "API Keys"
description: "API keys are long-lived authentication tokens that are generated by the Sensu backend. You can provide API keys to applications that want to interact with the Sensu API. Read the reference doc to learn about API keys."
weight: 10
version: "5.15"
product: "Sensu Go"
menu: 
  sensu-go-5.15:
    parent: reference
---

- [API key compatibility](#api-key-compatibility)
- [API key resource structure](#api-key-resource-structure)
- [API key specification](#api-key-specification)
- [Examples](#examples)

**LICENSED TIER**: Unlock the API key feature in Sensu Go with a Sensu license. To activate your license, see the [getting started guide][1].

API keys are long-lived authentication tokens that make it more convenient to authenticate with Sensu-adjacent applications. API keys are generated by the Sensu backend, and you can provide them to applications that want to interact with the Sensu API.

Use the [APIKey API][1] to create, retrieve, and delete API keys.

## API key compatibility

API keys are 100% backward-compatible with Sensu's [authentication token system][2], but API keys do not need to be refreshed every 15 minutes like the auth tokens.

When you specify an API key in a request, the system resolves it to an authentication token and continues through the regular authentication process.

_NOTE: The API key resource is not compatible with [`sensuctl create`][3]._

## API key resource structure

{{< language-toggle >}}

{{< highlight yml >}}
type: APIKey
api_version: core/v2
metadata:
  name: 19803eb8-36a6-4203-a225-28ec4e9f4444
spec:
  created_at: 1570732266
  username: admin
{{< /highlight >}}

{{< highlight json >}}
{
  "type": "APIKey",
  "api_version": "core/v2",
  "metadata" : {
    "name": "19803eb8-36a6-4203-a225-28ec4e9f4444"
  },
  "spec": {
    "created_at": 1570732266,
    "username": "admin"    
  }
}
{{< /highlight >}}

{{< /language-toggle >}}

## API key specification

### Top-level attributes

type         | 
-------------|------
description  | Top-level attribute specifying the resource type. API keys should always be of type `APIKey`.
required     | true
type         | String
example      | {{< highlight shell >}}"type": "APIKey"{{< /highlight >}}

api_version  | 
-------------|------
description  | Top-level attribute specifying the Sensu API group and version. This attribute should always be `core/v2`.
required     | true
type         | String
example      | {{< highlight shell >}}"api_version": "core/v2"{{< /highlight >}}

metadata     | 
-------------|------
description  | Top-level collection of metadata about the API key, including the `name`. The `metadata` map is always at the top level of the check definition. This means that in `wrapped-json` and `yaml` formats, the `metadata` scope occurs outside the `spec` scope.
required     | true
type         | Map of key-value pairs
example      | {{< highlight shell >}}"metadata": {
  "name": "19803eb8-36a6-4203-a225-28ec4e9f4444"
}{{< /highlight >}}

spec         | 
-------------|------
description  | Top-level map that includes the API key's [spec attributes](#spec-attributes).
required     | true
type         | Map of key-value pairs
example      | {{< highlight shell >}}"spec": {
    "created_at": 1570732266,
    "username": "admin"
  }
{{< /highlight >}}

### Metadata attributes

| name       |      |
-------------|------
description  | A unique string used to identify the API key. Sensu randomly generates a UUID for the `name` value (i.e. users cannot provide a name for an API key).
required     | true
type         | String
example      | {{< highlight shell >}}"name": "19803eb8-36a6-4203-a225-28ec4e9f4444"{{< /highlight >}}

### Spec attributes

| username   |     |
-------------|------
description  | The user associated with the API key.
required     | true
type         | Array
example      | {{< highlight shell >}}"username": "admin"{{< /highlight >}}

| created_at |      |
-------------|------
description  | The time at which the API key was created. Unix timestamp automatically generated when the API key is created.
required     | true
type         | Integer
example      | {{< highlight shell >}}"created_at": 1234567890{{< /highlight >}}

## Examples

{{< language-toggle >}}

{{< highlight yml >}}
type: APIKey
api_version: core/v2
metadata:
  name: 19803eb8-36a6-4203-a225-28ec4e9f4444
spec:
  created_at: 1570732266
  username: admin
{{< /highlight >}}

{{< highlight json >}}
{
  "type": "APIKey",
  "api_version": "core/v2",
  "metadata": {
    "name": "19803eb8-36a6-4203-a225-28ec4e9f4444"
  },
  "spec": {
    "created_at": 1570732266,
    "username": "admin"
  }
}
{{< /highlight >}}
{{< /language-toggle >}}

[1]: ../../api/apikey/
[2]: ../../api/auth/#the-authtoken-api-endpoint
[3]: ../../sensuctl/reference/#creating-resources
